---
layout: post
toc: true
title: "ë°±ì¤€ 1707ë²ˆ ì´ë¶„ ê·¸ë˜í”„"
categories: BOJ
tags: [ë°±ì¤€, BOJ, python, bfs]
---

## ë¬¸ì œ
ê·¸ë˜í”„ì˜ ì •ì ì˜ ì§‘í•©ì„ ë‘˜ë¡œ ë¶„í• í•˜ì—¬, ê° ì§‘í•©ì— ì†í•œ ì •ì ë¼ë¦¬ëŠ” ì„œë¡œ ì¸ì ‘í•˜ì§€ ì•Šë„ë¡ ë¶„í• í•  ìˆ˜ ìˆì„ ë•Œ, ê·¸ëŸ¬í•œ ê·¸ë˜í”„ë¥¼ íŠ¹ë³„íˆ ì´ë¶„ ê·¸ë˜í”„ (Bipartite Graph) ë¼ ë¶€ë¥¸ë‹¤.

ê·¸ë˜í”„ê°€ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ ê·¸ë˜í”„ê°€ ì´ë¶„ ê·¸ë˜í”„ì¸ì§€ ì•„ë‹Œì§€ íŒë³„í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

[www.acmicpc.net/problem/1707](https://www.acmicpc.net/problem/1707)

* ì…ë ¥

ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ë°, ì²«ì§¸ ì¤„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ K(2â‰¤Kâ‰¤5)ê°€ ì£¼ì–´ì§„ë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” ê·¸ë˜í”„ì˜ ì •ì ì˜ ê°œìˆ˜ V(1â‰¤Vâ‰¤20,000)ì™€ ê°„ì„ ì˜ ê°œìˆ˜ E(1â‰¤Eâ‰¤200,000)ê°€ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ê° ì •ì ì—ëŠ” 1ë¶€í„° Vê¹Œì§€ ì°¨ë¡€ë¡œ ë²ˆí˜¸ê°€ ë¶™ì–´ ìˆë‹¤. ì´ì–´ì„œ ë‘˜ì§¸ ì¤„ë¶€í„° Eê°œì˜ ì¤„ì— ê±¸ì³ ê°„ì„ ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ì–´ì§€ëŠ”ë°, ê° ì¤„ì— ì¸ì ‘í•œ ë‘ ì •ì ì˜ ë²ˆí˜¸ê°€ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤.

* ì¶œë ¥

Kê°œì˜ ì¤„ì— ê±¸ì³ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ê·¸ë˜í”„ê°€ ì´ë¶„ ê·¸ë˜í”„ì´ë©´ YES, ì•„ë‹ˆë©´ NOë¥¼ ìˆœì„œëŒ€ë¡œ ì¶œë ¥í•œë‹¤.


## ìµœì¢… ì½”ë“œ

ë‚˜ëŠ” ì´ë¶„ ê·¸ë˜í”„ì¸ì§€ë¥¼ íŒë‹¨í•˜ê¸° ìœ„í•´ set1, set2 ë‘ ê°œì˜ ì§‘í•©ì„ ë§Œë“¤ì—ˆë‹¤.

í˜„ì¬ ë…¸ë“œê°€ set1ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ë‹¤ìŒ ë…¸ë“œëŠ” set2ì— ë„£ê³ , ë°˜ëŒ€ë¡œ í˜„ì¬ ë…¸ë“œê°€ set2ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ë‹¤ìŒ ë…¸ë“œëŠ” set1ì— ë„£ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.

ê·¸ëŸ¬ë‹¤ set1, í˜¹ì€ set2ì— ë„£ìœ¼ë ¤ëŠ”ë° ì´ë¯¸ ë°˜ëŒ€ ì§‘í•©ì— í•´ë‹¹ ë…¸ë“œê°€ ë“¤ì–´ê°€ ìˆìœ¼ë©´ "NO"ë¥¼ ì¶œë ¥í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.

ì„±ê³µí•˜ê¸´ í–ˆì§€ë§Œ ì½”ë“œê°€ ì•½ê°„ ë³µì¡í•´ ë³´ì¸ë‹¤.

```python
import sys
from collections import deque

def bfs(start):
    q = deque()
    q.append(start)
    visit[start] = True
    # set1ì— start ë…¸ë“œë¥¼ ë„£ê³  ì‹œì‘
    set1 = set({start})
    set2 = set()
    # flag == 1: set1ì´ ê¸°ì¤€
    # flag == 2: set2ê°€ ê¸°ì¤€
    flag = 1

    while q:
        qlen = len(q)
        while qlen:
            v = q.popleft()
            qlen -= 1
            for x in g[v]:
                if flag == 1:
                    # flagê°€ 1ì¼ ë•Œ ì´ë¯¸ xê°€ set1ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì´ë¶„ ê·¸ë˜í”„ X
                    if x in set1:
                        return False
                    # ì•„ë‹Œ ê²½ìš° set2ì— ì¶”ê°€
                    else:
                        set2.add(x)
                elif flag == 2:
                    # flagê°€ 2ì¼ ë•Œ ì´ë¯¸ xê°€ set2ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì´ë¶„ ê·¸ë˜í”„ X
                    if x in set2:
                        return False
                    # ì•„ë‹Œ ê²½ìš° set1ì— ì¶”ê°€
                    else:
                        set1.add(x)

                if visit[x] == False:
                    visit[x] = True
                    q.append(x)
        # flag 1<->2 ë³€ê²½
        if flag == 1:
            flag = 2
        elif flag == 2:
            flag = 1

    return True

k = int(sys.stdin.readline())
while k:
    v, e = map(int, sys.stdin.readline().split())
    g = [[] for _ in range(v+1)]
    for _ in range(e):
        x, y = map(int, sys.stdin.readline().split())
        g[x].append(y)
        g[y].append(x)

    visit = [False] * (v + 1)
    flag = True
    for i in range(1, v+1):
        if visit[i] == False:
            if bfs(i):
                continue
            else:
                flag = False
                break

    if flag:
        print("YES")
    else:
        print("NO")

    k -= 1
```


## Enhanced

ì´ë ‡ê²Œ ë…¸ë“œë“¤ì„ ë‘ ì§‘í•©ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì„ `2-Coloring`í•œë‹¤ê³  í‘œí˜„í•˜ë”ë¼. ë§ ê·¸ëŒ€ë¡œ ë‘ ê°€ì§€ ìƒ‰ì„ ê°€ì§€ê³  ë…¸ë“œë¥¼ ì¹ í•˜ëŠ” ê²ƒì´ë‹¤.

ê¸°ì¡´ì˜ ì½”ë“œì²˜ëŸ¼ êµ³ì´ ì§‘í•©ì„ ë§Œë“¤ì§€ ì•Šì•„ë„ colors ë°°ì—´ì„ ì‚¬ìš©í•´ì„œ ë…¸ë“œë“¤ì€ 1ê³¼ -1ë¡œ Coloring í•´ì£¼ë©´ ë¬¸ì œë¥¼ ë” ê°„ë‹¨í•˜ê²Œ í’€ ìˆ˜ ìˆë‹¤.

```python
import sys
from collections import deque

def bfs(start):
    q = deque()
    q.append(start)
    colors[start] = 1

    while q:
        v = q.popleft()
        for x in g[v]:
            # ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œì¸ ê²½ìš° vì˜ ë°˜ëŒ€ ìƒ‰ìœ¼ë¡œ Coloring
            if colors[x] == 0:
                colors[x] = -colors[v]
                q.append(x)
            # ì´ë¯¸ ë°©ë¬¸í•œ ë…¸ë“œì¸ë° vì™€ ìƒ‰ê¹”ì´ ê°™ìœ¼ë©´ ì´ë¶„ ê·¸ë˜í”„X
            elif colors[x] == colors[v]:
                return False

    return True

k = int(sys.stdin.readline())
while k:
    v, e = map(int, sys.stdin.readline().split())
    g = [[] for _ in range(v+1)]
    for _ in range(e):
        x, y = map(int, sys.stdin.readline().split())
        g[x].append(y)
        g[y].append(x)

    colors = [0] * (v + 1)
    flag = True
    for i in range(1, v+1):
        if colors[i] == 0:
            if not bfs(i):
                flag = False
                break

    print("YES" if flag else "NO")

    k -= 1
```


## ì°¸ê³  ì‚¬ì´íŠ¸

- [ë°±ì¤€ 1707 ì´ë¶„ ê·¸ë˜í”„] - íŒŒì´ì¬ í’€ì´ ğŸ¦„ [jrc-park.tistory.com/223](https://jrc-park.tistory.com/223)
